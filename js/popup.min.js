"use strict";window.addEventListener("load",()=>{$("#media-insert-cancel").on("click",()=>{window.close()}),$("#media-insert-ok").on("click",()=>{const e=$("#media-insert-form").get(0).m_url.value;$.getJSON(`https://noembed.com/embed?url=${e}&callback=?`,e=>{!function(e){const t=$("#media-insert-form").get(0);if(null==t)return;const n=window.opener.the_toolbar,{data:l}=n.elements.noembedmedia;l.alignment=$('input[name="alignment"]:checked',t).val(),l.title=t.m_title.value,l.url=t.m_url.value,l.m_object=e,n.elements.noembedmedia.fncall[n.mode].call(n),window.close()}(e.html)}).fail(e=>{window.alert(`${dotclear.external_media.request_error+e.status} ${e.statusText}`)})})});
