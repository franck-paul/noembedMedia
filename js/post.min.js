"use strict";dotclear.ready(()=>{const e=dotclear.getData("dc_editor_noembedmedia");jsToolBar.prototype.elements.noembedSpaceBefore={type:"space",format:{wysiwyg:!0,wiki:!0,xhtml:!0,markdown:!0}},jsToolBar.prototype.elements.noembedmedia={type:"button",title:e.title||"External Media (via noembed.com)",icon:e.icon,icon_dark:e.icon_dark,fn:{},fncall:{},open_url:e.open_url,data:{},popup(){window.the_toolbar=this,this.elements.noembedmedia.data={},window.open(this.elements.noembedmedia.open_url,"dc_popup","alwaysRaised=yes,dependent=yes,toolbar=yes,height=500,width=760,menubar=no,resizable=yes,scrollbars=yes,status=no")},gethtml(){const t=this.data;if(""==t.m_object)return!1;let o='<div class="external-media"';return"left"==t.alignment?o+=` ${e.style.class?"class":"style"}="${e.style.left}"`:"right"==t.alignment?o+=` ${e.style.class?"class":"style"}="${e.style.right}"`:"center"==t.alignment&&(o+=` ${e.style.class?"class":"style"}="${e.style.center}"`),o+=`>\n${t.m_object}`,t.title&&(t.url&&(t.title=`<a href="${t.url}">${t.title}</a>`),o+=`\n<br>${t.title}`),o+="\n</div>",o}},jsToolBar.prototype.elements.noembedSpaceAfter={type:"space",format:{wysiwyg:!0,wiki:!0,xhtml:!0,markdown:!0}},jsToolBar.prototype.elements.noembedmedia.fn.wiki=function(){this.elements.noembedmedia.popup.call(this)},jsToolBar.prototype.elements.noembedmedia.fn.xhtml=function(){this.elements.noembedmedia.popup.call(this)},jsToolBar.prototype.elements.noembedmedia.fn.markdown=function(){this.elements.noembedmedia.popup.call(this)},jsToolBar.prototype.elements.noembedmedia.fncall.wiki=function(){const e=this.elements.noembedmedia.gethtml();this.encloseSelection("","",()=>`\n///html\n${e}\n///\n`)},jsToolBar.prototype.elements.noembedmedia.fncall.xhtml=function(){const e=this.elements.noembedmedia.gethtml();this.encloseSelection("","",()=>e)},jsToolBar.prototype.elements.noembedmedia.fncall.markdown=function(){const e=this.elements.noembedmedia.gethtml();this.encloseSelection("","",()=>e)}});
